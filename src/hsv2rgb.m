clear all;
close all;

## hsv2rgb() output
data1 = [
[ 0 255 0 0 ],
[ 1 255 5 0 ],
[ 2 255 11 0 ],
[ 3 255 17 0 ],
[ 4 255 23 0 ],
[ 5 255 29 0 ],
[ 6 255 35 0 ],
[ 7 255 41 0 ],
[ 8 255 47 0 ],
[ 9 255 53 0 ],
[ 10 255 59 0 ],
[ 11 255 65 0 ],
[ 12 255 71 0 ],
[ 13 255 77 0 ],
[ 14 255 83 0 ],
[ 15 255 89 0 ],
[ 16 255 95 0 ],
[ 17 255 101 0 ],
[ 18 255 107 0 ],
[ 19 255 113 0 ],
[ 20 255 119 0 ],
[ 21 255 125 0 ],
[ 22 255 130 0 ],
[ 23 255 136 0 ],
[ 24 255 142 0 ],
[ 25 255 148 0 ],
[ 26 255 154 0 ],
[ 27 255 160 0 ],
[ 28 255 166 0 ],
[ 29 255 172 0 ],
[ 30 255 178 0 ],
[ 31 255 184 0 ],
[ 32 255 190 0 ],
[ 33 255 196 0 ],
[ 34 255 202 0 ],
[ 35 255 208 0 ],
[ 36 255 214 0 ],
[ 37 255 220 0 ],
[ 38 255 226 0 ],
[ 39 255 232 0 ],
[ 40 255 238 0 ],
[ 41 255 244 0 ],
[ 42 255 250 0 ],
[ 43 254 255 0 ],
[ 44 248 255 0 ],
[ 45 242 255 0 ],
[ 46 236 255 0 ],
[ 47 230 255 0 ],
[ 48 224 255 0 ],
[ 49 218 255 0 ],
[ 50 212 255 0 ],
[ 51 206 255 0 ],
[ 52 200 255 0 ],
[ 53 194 255 0 ],
[ 54 188 255 0 ],
[ 55 182 255 0 ],
[ 56 176 255 0 ],
[ 57 170 255 0 ],
[ 58 164 255 0 ],
[ 59 158 255 0 ],
[ 60 152 255 0 ],
[ 61 146 255 0 ],
[ 62 140 255 0 ],
[ 63 134 255 0 ],
[ 64 128 255 0 ],
[ 65 123 255 0 ],
[ 66 117 255 0 ],
[ 67 111 255 0 ],
[ 68 105 255 0 ],
[ 69 99 255 0 ],
[ 70 93 255 0 ],
[ 71 87 255 0 ],
[ 72 81 255 0 ],
[ 73 75 255 0 ],
[ 74 69 255 0 ],
[ 75 63 255 0 ],
[ 76 57 255 0 ],
[ 77 51 255 0 ],
[ 78 45 255 0 ],
[ 79 39 255 0 ],
[ 80 33 255 0 ],
[ 81 27 255 0 ],
[ 82 21 255 0 ],
[ 83 15 255 0 ],
[ 84 9 255 0 ],
[ 85 3 255 0 ],
[ 86 0 255 3 ],
[ 87 0 255 9 ],
[ 88 0 255 15 ],
[ 89 0 255 21 ],
[ 90 0 255 27 ],
[ 91 0 255 33 ],
[ 92 0 255 39 ],
[ 93 0 255 45 ],
[ 94 0 255 51 ],
[ 95 0 255 57 ],
[ 96 0 255 63 ],
[ 97 0 255 69 ],
[ 98 0 255 75 ],
[ 99 0 255 81 ],
[ 100 0 255 87 ],
[ 101 0 255 93 ],
[ 102 0 255 99 ],
[ 103 0 255 105 ],
[ 104 0 255 111 ],
[ 105 0 255 117 ],
[ 106 0 255 123 ],
[ 107 0 255 128 ],
[ 108 0 255 134 ],
[ 109 0 255 140 ],
[ 110 0 255 146 ],
[ 111 0 255 152 ],
[ 112 0 255 158 ],
[ 113 0 255 164 ],
[ 114 0 255 170 ],
[ 115 0 255 176 ],
[ 116 0 255 182 ],
[ 117 0 255 188 ],
[ 118 0 255 194 ],
[ 119 0 255 200 ],
[ 120 0 255 206 ],
[ 121 0 255 212 ],
[ 122 0 255 218 ],
[ 123 0 255 224 ],
[ 124 0 255 230 ],
[ 125 0 255 236 ],
[ 126 0 255 242 ],
[ 127 0 255 248 ],
[ 128 0 255 255 ],
[ 129 0 250 255 ],
[ 130 0 244 255 ],
[ 131 0 238 255 ],
[ 132 0 232 255 ],
[ 133 0 226 255 ],
[ 134 0 220 255 ],
[ 135 0 214 255 ],
[ 136 0 208 255 ],
[ 137 0 202 255 ],
[ 138 0 196 255 ],
[ 139 0 190 255 ],
[ 140 0 184 255 ],
[ 141 0 178 255 ],
[ 142 0 172 255 ],
[ 143 0 166 255 ],
[ 144 0 160 255 ],
[ 145 0 154 255 ],
[ 146 0 148 255 ],
[ 147 0 142 255 ],
[ 148 0 136 255 ],
[ 149 0 130 255 ],
[ 150 0 125 255 ],
[ 151 0 119 255 ],
[ 152 0 113 255 ],
[ 153 0 107 255 ],
[ 154 0 101 255 ],
[ 155 0 95 255 ],
[ 156 0 89 255 ],
[ 157 0 83 255 ],
[ 158 0 77 255 ],
[ 159 0 71 255 ],
[ 160 0 65 255 ],
[ 161 0 59 255 ],
[ 162 0 53 255 ],
[ 163 0 47 255 ],
[ 164 0 41 255 ],
[ 165 0 35 255 ],
[ 166 0 29 255 ],
[ 167 0 23 255 ],
[ 168 0 17 255 ],
[ 169 0 11 255 ],
[ 170 0 5 255 ],
[ 171 1 0 255 ],
[ 172 7 0 255 ],
[ 173 13 0 255 ],
[ 174 19 0 255 ],
[ 175 25 0 255 ],
[ 176 31 0 255 ],
[ 177 37 0 255 ],
[ 178 43 0 255 ],
[ 179 49 0 255 ],
[ 180 55 0 255 ],
[ 181 61 0 255 ],
[ 182 67 0 255 ],
[ 183 73 0 255 ],
[ 184 79 0 255 ],
[ 185 85 0 255 ],
[ 186 91 0 255 ],
[ 187 97 0 255 ],
[ 188 103 0 255 ],
[ 189 109 0 255 ],
[ 190 115 0 255 ],
[ 191 121 0 255 ],
[ 192 127 0 255 ],
[ 193 132 0 255 ],
[ 194 138 0 255 ],
[ 195 144 0 255 ],
[ 196 150 0 255 ],
[ 197 156 0 255 ],
[ 198 162 0 255 ],
[ 199 168 0 255 ],
[ 200 174 0 255 ],
[ 201 180 0 255 ],
[ 202 186 0 255 ],
[ 203 192 0 255 ],
[ 204 198 0 255 ],
[ 205 204 0 255 ],
[ 206 210 0 255 ],
[ 207 216 0 255 ],
[ 208 222 0 255 ],
[ 209 228 0 255 ],
[ 210 234 0 255 ],
[ 211 240 0 255 ],
[ 212 246 0 255 ],
[ 213 252 0 255 ],
[ 214 255 0 252 ],
[ 215 255 0 246 ],
[ 216 255 0 240 ],
[ 217 255 0 234 ],
[ 218 255 0 228 ],
[ 219 255 0 222 ],
[ 220 255 0 216 ],
[ 221 255 0 210 ],
[ 222 255 0 204 ],
[ 223 255 0 198 ],
[ 224 255 0 192 ],
[ 225 255 0 186 ],
[ 226 255 0 180 ],
[ 227 255 0 174 ],
[ 228 255 0 168 ],
[ 229 255 0 162 ],
[ 230 255 0 156 ],
[ 231 255 0 150 ],
[ 232 255 0 144 ],
[ 233 255 0 138 ],
[ 234 255 0 132 ],
[ 235 255 0 127 ],
[ 236 255 0 121 ],
[ 237 255 0 115 ],
[ 238 255 0 109 ],
[ 239 255 0 103 ],
[ 240 255 0 97 ],
[ 241 255 0 91 ],
[ 242 255 0 85 ],
[ 243 255 0 79 ],
[ 244 255 0 73 ],
[ 245 255 0 67 ],
[ 246 255 0 61 ],
[ 247 255 0 55 ],
[ 248 255 0 49 ],
[ 249 255 0 43 ],
[ 250 255 0 37 ],
[ 251 255 0 31 ],
[ 252 255 0 25 ],
[ 253 255 0 19 ],
[ 254 255 0 13 ],
[ 255 255 0 7 ],
];

figure(1);
plot(
    data1(:,1), data1(:,2), "-r;R;",
    data1(:,1), data1(:,3), "-g;G;",
    data1(:,1), data1(:,4), "-b;B;",
    data1(:,1), data1(:,2) .+ data1(:,3) .+ data1(:,4), "-k;RGB;"
  );
grid on;
axis([0 300 0 600]);

## actual SPI data, unscaled
data2 =[
[ 0 255 0 ],
[ 5 255 0 ],
[ 11 255 0 ],
[ 17 255 0 ],
[ 23 255 0 ],
[ 29 255 0 ],
[ 35 255 0 ],
[ 41 255 0 ],
[ 47 255 0 ],
[ 53 255 0 ],
[ 59 255 0 ],
[ 65 255 0 ],
[ 71 255 0 ],
[ 77 255 0 ],
[ 83 255 0 ],
[ 89 255 0 ],
[ 95 255 0 ],
[ 101 255 0 ],
[ 107 255 0 ],
[ 113 255 0 ],
[ 119 255 0 ],
[ 125 255 0 ],
[ 130 255 0 ],
[ 136 255 0 ],
[ 142 255 0 ],
[ 148 255 0 ],
[ 154 255 0 ],
[ 160 255 0 ],
[ 166 255 0 ],
[ 172 255 0 ],
[ 178 255 0 ],
[ 184 255 0 ],
[ 190 255 0 ],
[ 196 255 0 ],
[ 202 255 0 ],
[ 208 255 0 ],
[ 214 255 0 ],
[ 220 255 0 ],
[ 226 255 0 ],
[ 232 255 0 ],
[ 238 255 0 ],
[ 244 255 0 ],
[ 250 255 0 ],
[ 255 254 0 ],
[ 255 248 0 ],
[ 255 242 0 ],
[ 255 236 0 ],
[ 255 230 0 ],
[ 255 224 0 ],
[ 255 218 0 ],
[ 255 212 0 ],
[ 255 206 0 ],
[ 255 200 0 ],
[ 255 194 0 ],
[ 255 188 0 ],
[ 255 182 0 ],
[ 255 176 0 ],
[ 255 170 0 ],
[ 255 164 0 ],
[ 255 158 0 ],
[ 255 152 0 ],
[ 255 146 0 ],
[ 255 140 0 ],
[ 255 134 0 ],
[ 255 128 0 ],
[ 255 123 0 ],
[ 255 117 0 ],
[ 255 111 0 ],
[ 255 105 0 ],
[ 255 99 0 ],
[ 255 93 0 ],
[ 255 87 0 ],
[ 255 81 0 ],
[ 255 75 0 ],
[ 255 69 0 ],
[ 255 63 0 ],
[ 255 57 0 ],
[ 255 51 0 ],
[ 255 45 0 ],
[ 255 39 0 ],
[ 255 33 0 ],
[ 255 27 0 ],
[ 255 21 0 ],
[ 255 15 0 ],
[ 255 9 0 ],
[ 255 3 0 ],
[ 255 0 3 ],
[ 255 0 9 ],
[ 255 0 15 ],
[ 255 0 21 ],
[ 255 0 27 ],
[ 255 0 33 ],
[ 255 0 39 ],
[ 255 0 45 ],
[ 255 0 51 ],
[ 255 0 57 ],
[ 255 0 63 ],
[ 255 0 69 ],
[ 255 0 75 ],
[ 255 0 81 ],
[ 255 0 87 ],
[ 255 0 93 ],
[ 255 0 99 ],
[ 255 0 105 ],
[ 255 0 111 ],
[ 255 0 117 ],
[ 255 0 123 ],
[ 255 0 128 ],
[ 255 0 134 ],
[ 255 0 140 ],
[ 255 0 146 ],
[ 255 0 152 ],
[ 255 0 158 ],
[ 255 0 164 ],
[ 255 0 170 ],
[ 255 0 176 ],
[ 255 0 182 ],
[ 255 0 188 ],
[ 255 0 194 ],
[ 255 0 200 ],
[ 255 0 206 ],
[ 255 0 212 ],
[ 255 0 218 ],
[ 255 0 224 ],
[ 255 0 230 ],
[ 255 0 236 ],
[ 255 0 242 ],
[ 255 0 248 ],
[ 255 0 255 ],
[ 250 0 255 ],
[ 244 0 255 ],
[ 238 0 255 ],
[ 232 0 255 ],
[ 226 0 255 ],
[ 220 0 255 ],
[ 214 0 255 ],
[ 208 0 255 ],
[ 202 0 255 ],
[ 196 0 255 ],
[ 190 0 255 ],
[ 184 0 255 ],
[ 178 0 255 ],
[ 172 0 255 ],
[ 166 0 255 ],
[ 160 0 255 ],
[ 154 0 255 ],
[ 148 0 255 ],
[ 142 0 255 ],
[ 136 0 255 ],
[ 130 0 255 ],
[ 125 0 255 ],
[ 119 0 255 ],
[ 113 0 255 ],
[ 107 0 255 ],
[ 101 0 255 ],
[ 95 0 255 ],
[ 89 0 255 ],
[ 83 0 255 ],
[ 77 0 255 ],
[ 71 0 255 ],
[ 65 0 255 ],
[ 59 0 255 ],
[ 53 0 255 ],
[ 47 0 255 ],
[ 41 0 255 ],
[ 35 0 255 ],
[ 29 0 255 ],
[ 23 0 255 ],
[ 17 0 255 ],
[ 11 0 255 ],
[ 5 0 255 ],
[ 0 1 255 ],
[ 0 7 255 ],
[ 0 13 255 ],
[ 0 19 255 ],
[ 0 25 255 ],
[ 0 31 255 ],
[ 0 37 255 ],
[ 0 43 255 ],
[ 0 49 255 ],
[ 0 55 255 ],
[ 0 61 255 ],
[ 0 67 255 ],
[ 0 73 255 ],
[ 0 79 255 ],
[ 0 85 255 ],
[ 0 91 255 ],
[ 0 97 255 ],
[ 0 103 255 ],
[ 0 109 255 ],
[ 0 115 255 ],
[ 0 121 255 ],
[ 0 127 255 ],
[ 0 132 255 ],
[ 0 138 255 ],
[ 0 144 255 ],
[ 0 150 255 ],
[ 0 156 255 ],
[ 0 162 255 ],
[ 0 168 255 ],
[ 0 174 255 ],
[ 0 180 255 ],
[ 0 186 255 ],
[ 0 192 255 ],
[ 0 198 255 ],
[ 0 204 255 ],
[ 0 210 255 ],
[ 0 216 255 ],
[ 0 222 255 ],
[ 0 228 255 ],
[ 0 234 255 ],
[ 0 240 255 ],
[ 0 246 255 ],
[ 0 252 255 ],
[ 0 255 252 ],
[ 0 255 246 ],
[ 0 255 240 ],
[ 0 255 234 ],
[ 0 255 228 ],
[ 0 255 222 ],
[ 0 255 216 ],
[ 0 255 210 ],
[ 0 255 204 ],
[ 0 255 198 ],
[ 0 255 192 ],
[ 0 255 186 ],
[ 0 255 180 ],
[ 0 255 174 ],
[ 0 255 168 ],
[ 0 255 162 ],
[ 0 255 156 ],
[ 0 255 150 ],
[ 0 255 144 ],
[ 0 255 138 ],
[ 0 255 132 ],
[ 0 255 127 ],
[ 0 255 121 ],
[ 0 255 115 ],
[ 0 255 109 ],
[ 0 255 103 ],
[ 0 255 97 ],
[ 0 255 91 ],
[ 0 255 85 ],
[ 0 255 79 ],
[ 0 255 73 ],
[ 0 255 67 ],
[ 0 255 61 ],
[ 0 255 55 ],
[ 0 255 49 ],
[ 0 255 43 ],
[ 0 255 37 ],
[ 0 255 31 ],
[ 0 255 25 ],
[ 0 255 19 ],
[ 0 255 13 ],
[ 0 255 7 ],
];

figure(2);
plot(
    1:length(data2), data2(:,2), "-r;R;",
    1:length(data2), data2(:,1), "-g;G;",
    1:length(data2), data2(:,3), "-b;B;",
    1:length(data2), data2(:,1) .+ data2(:,2) .+ data2(:,3), "-k;RGB;"
  );
grid on;
axis([0 300 0 600]);

## actual SPI data with brightness scaling 100
data3 = [
[ 0 99 0 ],
[ 1 99 0 ],
[ 4 99 0 ],
[ 6 99 0 ],
[ 8 99 0 ],
[ 11 99 0 ],
[ 13 99 0 ],
[ 16 99 0 ],
[ 18 99 0 ],
[ 20 99 0 ],
[ 23 99 0 ],
[ 25 99 0 ],
[ 27 99 0 ],
[ 30 99 0 ],
[ 32 99 0 ],
[ 34 99 0 ],
[ 37 99 0 ],
[ 39 99 0 ],
[ 41 99 0 ],
[ 44 99 0 ],
[ 46 99 0 ],
[ 48 99 0 ],
[ 50 99 0 ],
[ 53 99 0 ],
[ 55 99 0 ],
[ 57 99 0 ],
[ 60 99 0 ],
[ 62 99 0 ],
[ 64 99 0 ],
[ 67 99 0 ],
[ 69 99 0 ],
[ 71 99 0 ],
[ 74 99 0 ],
[ 76 99 0 ],
[ 78 99 0 ],
[ 81 99 0 ],
[ 83 99 0 ],
[ 85 99 0 ],
[ 88 99 0 ],
[ 90 99 0 ],
[ 92 99 0 ],
[ 95 99 0 ],
[ 97 99 0 ],
[ 99 99 0 ],
[ 99 96 0 ],
[ 99 94 0 ],
[ 99 92 0 ],
[ 99 89 0 ],
[ 99 87 0 ],
[ 99 85 0 ],
[ 99 82 0 ],
[ 99 80 0 ],
[ 99 78 0 ],
[ 99 75 0 ],
[ 99 73 0 ],
[ 99 71 0 ],
[ 99 68 0 ],
[ 99 66 0 ],
[ 99 64 0 ],
[ 99 61 0 ],
[ 99 59 0 ],
[ 99 57 0 ],
[ 99 54 0 ],
[ 99 52 0 ],
[ 99 50 0 ],
[ 99 48 0 ],
[ 99 45 0 ],
[ 99 43 0 ],
[ 99 41 0 ],
[ 99 38 0 ],
[ 99 36 0 ],
[ 99 33 0 ],
[ 99 31 0 ],
[ 99 29 0 ],
[ 99 26 0 ],
[ 99 24 0 ],
[ 99 22 0 ],
[ 99 19 0 ],
[ 99 17 0 ],
[ 99 15 0 ],
[ 99 12 0 ],
[ 99 10 0 ],
[ 99 8 0 ],
[ 99 5 0 ],
[ 99 3 0 ],
[ 99 1 0 ],
[ 99 0 1 ],
[ 99 0 3 ],
[ 99 0 5 ],
[ 99 0 8 ],
[ 99 0 10 ],
[ 99 0 12 ],
[ 99 0 15 ],
[ 99 0 17 ],
[ 99 0 19 ],
[ 99 0 22 ],
[ 99 0 24 ],
[ 99 0 26 ],
[ 99 0 29 ],
[ 99 0 31 ],
[ 99 0 33 ],
[ 99 0 36 ],
[ 99 0 38 ],
[ 99 0 41 ],
[ 99 0 43 ],
[ 99 0 45 ],
[ 99 0 48 ],
[ 99 0 50 ],
[ 99 0 52 ],
[ 99 0 54 ],
[ 99 0 57 ],
[ 99 0 59 ],
[ 99 0 61 ],
[ 99 0 64 ],
[ 99 0 66 ],
[ 99 0 68 ],
[ 99 0 71 ],
[ 99 0 73 ],
[ 99 0 75 ],
[ 99 0 78 ],
[ 99 0 80 ],
[ 99 0 82 ],
[ 99 0 85 ],
[ 99 0 87 ],
[ 99 0 89 ],
[ 99 0 92 ],
[ 99 0 94 ],
[ 99 0 96 ],
[ 99 0 99 ],
[ 97 0 99 ],
[ 95 0 99 ],
[ 92 0 99 ],
[ 90 0 99 ],
[ 88 0 99 ],
[ 85 0 99 ],
[ 83 0 99 ],
[ 81 0 99 ],
[ 78 0 99 ],
[ 76 0 99 ],
[ 74 0 99 ],
[ 71 0 99 ],
[ 69 0 99 ],
[ 67 0 99 ],
[ 64 0 99 ],
[ 62 0 99 ],
[ 60 0 99 ],
[ 57 0 99 ],
[ 55 0 99 ],
[ 53 0 99 ],
[ 50 0 99 ],
[ 48 0 99 ],
[ 46 0 99 ],
[ 44 0 99 ],
[ 41 0 99 ],
[ 39 0 99 ],
[ 37 0 99 ],
[ 34 0 99 ],
[ 32 0 99 ],
[ 30 0 99 ],
[ 27 0 99 ],
[ 25 0 99 ],
[ 23 0 99 ],
[ 20 0 99 ],
[ 18 0 99 ],
[ 16 0 99 ],
[ 13 0 99 ],
[ 11 0 99 ],
[ 8 0 99 ],
[ 6 0 99 ],
[ 4 0 99 ],
[ 1 0 99 ],
[ 0 1 99 ],
[ 0 2 99 ],
[ 0 5 99 ],
[ 0 7 99 ],
[ 0 9 99 ],
[ 0 12 99 ],
[ 0 14 99 ],
[ 0 16 99 ],
[ 0 19 99 ],
[ 0 21 99 ],
[ 0 23 99 ],
[ 0 26 99 ],
[ 0 28 99 ],
[ 0 30 99 ],
[ 0 33 99 ],
[ 0 35 99 ],
[ 0 37 99 ],
[ 0 40 99 ],
[ 0 42 99 ],
[ 0 44 99 ],
[ 0 47 99 ],
[ 0 49 99 ],
[ 0 51 99 ],
[ 0 53 99 ],
[ 0 56 99 ],
[ 0 58 99 ],
[ 0 60 99 ],
[ 0 63 99 ],
[ 0 65 99 ],
[ 0 67 99 ],
[ 0 70 99 ],
[ 0 72 99 ],
[ 0 75 99 ],
[ 0 77 99 ],
[ 0 79 99 ],
[ 0 82 99 ],
[ 0 84 99 ],
[ 0 86 99 ],
[ 0 89 99 ],
[ 0 91 99 ],
[ 0 93 99 ],
[ 0 96 99 ],
[ 0 98 99 ],
[ 0 99 98 ],
[ 0 99 96 ],
[ 0 99 93 ],
[ 0 99 91 ],
[ 0 99 89 ],
[ 0 99 86 ],
[ 0 99 84 ],
[ 0 99 82 ],
[ 0 99 79 ],
[ 0 99 77 ],
[ 0 99 75 ],
[ 0 99 72 ],
[ 0 99 70 ],
[ 0 99 67 ],
[ 0 99 65 ],
[ 0 99 63 ],
[ 0 99 60 ],
[ 0 99 58 ],
[ 0 99 56 ],
[ 0 99 53 ],
[ 0 99 51 ],
[ 0 99 49 ],
[ 0 99 47 ],
[ 0 99 44 ],
[ 0 99 42 ],
[ 0 99 40 ],
[ 0 99 37 ],
[ 0 99 35 ],
[ 0 99 33 ],
[ 0 99 30 ],
[ 0 99 28 ],
[ 0 99 26 ],
[ 0 99 23 ],
[ 0 99 21 ],
[ 0 99 19 ],
[ 0 99 16 ],
[ 0 99 14 ],
[ 0 99 12 ],
[ 0 99 9 ],
[ 0 99 7 ],
[ 0 99 5 ],
[ 0 99 2 ],
];

figure(3);
plot(
    1:length(data3), data3(:,2), "-r;R;",
    1:length(data3), data3(:,1), "-g;G;",
    1:length(data3), data3(:,3), "-b;B;",
    1:length(data3), data3(:,1) .+ data3(:,2) .+ data3(:,3), "-k;RGB;"
  );
grid on;
axis([0 300 0 600]);

## actual SPI data with brightness scaling 50
data4 = [
[ 0 49 0 ],
[ 1 49 0 ],
[ 2 49 0 ],
[ 3 49 0 ],
[ 4 49 0 ],
[ 5 49 0 ],
[ 6 49 0 ],
[ 8 49 0 ],
[ 9 49 0 ],
[ 10 49 0 ],
[ 11 49 0 ],
[ 12 49 0 ],
[ 13 49 0 ],
[ 15 49 0 ],
[ 16 49 0 ],
[ 17 49 0 ],
[ 18 49 0 ],
[ 19 49 0 ],
[ 20 49 0 ],
[ 22 49 0 ],
[ 23 49 0 ],
[ 24 49 0 ],
[ 25 49 0 ],
[ 26 49 0 ],
[ 27 49 0 ],
[ 28 49 0 ],
[ 30 49 0 ],
[ 31 49 0 ],
[ 32 49 0 ],
[ 33 49 0 ],
[ 34 49 0 ],
[ 35 49 0 ],
[ 37 49 0 ],
[ 38 49 0 ],
[ 39 49 0 ],
[ 40 49 0 ],
[ 41 49 0 ],
[ 42 49 0 ],
[ 44 49 0 ],
[ 45 49 0 ],
[ 46 49 0 ],
[ 47 49 0 ],
[ 48 49 0 ],
[ 49 49 0 ],
[ 49 48 0 ],
[ 49 47 0 ],
[ 49 46 0 ],
[ 49 44 0 ],
[ 49 43 0 ],
[ 49 42 0 ],
[ 49 41 0 ],
[ 49 40 0 ],
[ 49 39 0 ],
[ 49 37 0 ],
[ 49 36 0 ],
[ 49 35 0 ],
[ 49 34 0 ],
[ 49 33 0 ],
[ 49 32 0 ],
[ 49 30 0 ],
[ 49 29 0 ],
[ 49 28 0 ],
[ 49 27 0 ],
[ 49 26 0 ],
[ 49 25 0 ],
[ 49 24 0 ],
[ 49 22 0 ],
[ 49 21 0 ],
[ 49 20 0 ],
[ 49 19 0 ],
[ 49 18 0 ],
[ 49 16 0 ],
[ 49 15 0 ],
[ 49 14 0 ],
[ 49 13 0 ],
[ 49 12 0 ],
[ 49 11 0 ],
[ 49 9 0 ],
[ 49 8 0 ],
[ 49 7 0 ],
[ 49 6 0 ],
[ 49 5 0 ],
[ 49 4 0 ],
[ 49 2 0 ],
[ 49 1 0 ],
[ 49 1 0 ],
[ 49 0 1 ],
[ 49 0 1 ],
[ 49 0 2 ],
[ 49 0 4 ],
[ 49 0 5 ],
[ 49 0 6 ],
[ 49 0 7 ],
[ 49 0 8 ],
[ 49 0 9 ],
[ 49 0 11 ],
[ 49 0 12 ],
[ 49 0 13 ],
[ 49 0 14 ],
[ 49 0 15 ],
[ 49 0 16 ],
[ 49 0 18 ],
[ 49 0 19 ],
[ 49 0 20 ],
[ 49 0 21 ],
[ 49 0 22 ],
[ 49 0 24 ],
[ 49 0 25 ],
[ 49 0 26 ],
[ 49 0 27 ],
[ 49 0 28 ],
[ 49 0 29 ],
[ 49 0 30 ],
[ 49 0 32 ],
[ 49 0 33 ],
[ 49 0 34 ],
[ 49 0 35 ],
[ 49 0 36 ],
[ 49 0 37 ],
[ 49 0 39 ],
[ 49 0 40 ],
[ 49 0 41 ],
[ 49 0 42 ],
[ 49 0 43 ],
[ 49 0 44 ],
[ 49 0 46 ],
[ 49 0 47 ],
[ 49 0 48 ],
[ 49 0 49 ],
[ 48 0 49 ],
[ 47 0 49 ],
[ 46 0 49 ],
[ 45 0 49 ],
[ 44 0 49 ],
[ 42 0 49 ],
[ 41 0 49 ],
[ 40 0 49 ],
[ 39 0 49 ],
[ 38 0 49 ],
[ 37 0 49 ],
[ 35 0 49 ],
[ 34 0 49 ],
[ 33 0 49 ],
[ 32 0 49 ],
[ 31 0 49 ],
[ 30 0 49 ],
[ 28 0 49 ],
[ 27 0 49 ],
[ 26 0 49 ],
[ 25 0 49 ],
[ 24 0 49 ],
[ 23 0 49 ],
[ 22 0 49 ],
[ 20 0 49 ],
[ 19 0 49 ],
[ 18 0 49 ],
[ 17 0 49 ],
[ 16 0 49 ],
[ 15 0 49 ],
[ 13 0 49 ],
[ 12 0 49 ],
[ 11 0 49 ],
[ 10 0 49 ],
[ 9 0 49 ],
[ 8 0 49 ],
[ 6 0 49 ],
[ 5 0 49 ],
[ 4 0 49 ],
[ 3 0 49 ],
[ 2 0 49 ],
[ 1 0 49 ],
[ 0 1 49 ],
[ 0 1 49 ],
[ 0 2 49 ],
[ 0 3 49 ],
[ 0 4 49 ],
[ 0 6 49 ],
[ 0 7 49 ],
[ 0 8 49 ],
[ 0 9 49 ],
[ 0 10 49 ],
[ 0 11 49 ],
[ 0 13 49 ],
[ 0 14 49 ],
[ 0 15 49 ],
[ 0 16 49 ],
[ 0 17 49 ],
[ 0 18 49 ],
[ 0 20 49 ],
[ 0 21 49 ],
[ 0 22 49 ],
[ 0 23 49 ],
[ 0 24 49 ],
[ 0 25 49 ],
[ 0 26 49 ],
[ 0 28 49 ],
[ 0 29 49 ],
[ 0 30 49 ],
[ 0 31 49 ],
[ 0 32 49 ],
[ 0 33 49 ],
[ 0 35 49 ],
[ 0 36 49 ],
[ 0 37 49 ],
[ 0 38 49 ],
[ 0 39 49 ],
[ 0 41 49 ],
[ 0 42 49 ],
[ 0 43 49 ],
[ 0 44 49 ],
[ 0 45 49 ],
[ 0 46 49 ],
[ 0 48 49 ],
[ 0 49 49 ],
[ 0 49 49 ],
[ 0 49 48 ],
[ 0 49 46 ],
[ 0 49 45 ],
[ 0 49 44 ],
[ 0 49 43 ],
[ 0 49 42 ],
[ 0 49 41 ],
[ 0 49 39 ],
[ 0 49 38 ],
[ 0 49 37 ],
[ 0 49 36 ],
[ 0 49 35 ],
[ 0 49 33 ],
[ 0 49 32 ],
[ 0 49 31 ],
[ 0 49 30 ],
[ 0 49 29 ],
[ 0 49 28 ],
[ 0 49 26 ],
[ 0 49 25 ],
[ 0 49 24 ],
[ 0 49 23 ],
[ 0 49 22 ],
[ 0 49 21 ],
[ 0 49 20 ],
[ 0 49 18 ],
[ 0 49 17 ],
[ 0 49 16 ],
[ 0 49 15 ],
[ 0 49 14 ],
[ 0 49 13 ],
[ 0 49 11 ],
[ 0 49 10 ],
[ 0 49 9 ],
[ 0 49 8 ],
[ 0 49 7 ],
[ 0 49 6 ],
[ 0 49 4 ],
[ 0 49 3 ],
[ 0 49 2 ],
[ 0 49 1 ],
];

figure(4);
plot(
    1:length(data4), data4(:,2), "-r;R;",
    1:length(data4), data4(:,1), "-g;G;",
    1:length(data4), data4(:,3), "-b;B;",
    1:length(data4), data4(:,1) .+ data4(:,2) .+ data4(:,3), "-k;RGB;"
  );
grid on;
axis([0 300 0 600]);


size(data1)
size(data2)
size(data3)
size(data4)
